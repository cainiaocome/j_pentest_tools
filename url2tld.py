import os
import sys
reload(sys)
sys.setdefaultencoding('utf-8')
import json
import time
import random
import Queue
import threading
import collections
import traceback
import urlparse
import argparse
from pprint import pprint, pformat

# used module
import tldextract

def main():
    with open( sys.argv[1], 'r' ) as fin:
        lines = fin.read().split('\n')
    urls = filter( None, map( lambda x:x.strip(), lines ) )

    for url in urls:
        tld = tldextract.extract( url ).registered_domain
        if tld:
            print tld

if __name__ == '__main__':
    main()
